
public class Client {
	private String nom;
	private Serveur serveurActif;
	
	public Client(String nomClient) {
		this.nom = nomClient;
		this.serveurActif = null;
	}
	
	public void envoyer(Message message) {
		this.serveurActif.stocker(message);
	}
	
	public void envoyer(String contenu, String destinataire) {
		if (this.serveurActif != null) {
			Message message = new Message(this.nom, destinataire, contenu);
			this.serveurActif.stocker(message);
		} else {
			System.out.println("Vous n'etes connecté à aucun serveur.");
		}
		
	}
	
	public void connexion(Serveur serveur) {
		if (this.serveurActif == null) {
			this.serveurActif = serveur;
		} else {
			System.out.println("Vous etes deja connecté à un serveur veuillez vous déconnecter avant.");
		}
	}
	
	

	public void deconnexion() {
		this.serveurActif = null;
	}
	
	public void consulter() throw ServeurException{
		try {
			System.out.println(this.serveurActif.messagesRecusPour(this.nom));
		} catch (ServeurException e) {
			System.err.println("Erreur : connecté à aucun serveur");
		}
			
		
	}
	
	public String toString() {
		return "Client [nom=" + nom + ", serveurActif=" + serveurActif + "]";
	}
}
